name: make-docs
description: Create simple documentation HTML pages for your project using markdown language.
types:
  - app-template
inputs:
  - label: Project name
    type: text
    name: name_project
    default: project-name
    required: true
  
hooks:
  - type: run
    trigger: after-render
    linux:
      - pip install --no-cache-dir -r requirements.txt
    windows:
      - cmd /c pip install --no-cache-dir -r requirements.txt
    mac:
      - pip install --no-cache-dir -r requirements.txt
  - type: run
    trigger: after-render
    linux:
      - mkdocs new {{name_project}}
      - cd {{name_project}}
    windows:
      - cmd /c mkdocs new {{name_project}}
      - cmd /c cd {{name_project}}
    mac:
      - mkdocs new medocs #"{{name_project}}"
      - cp README.md {{name_project}}/docs
  - type: edit-yaml
    trigger: after-render
    path: {{name_project}}/mkdocs.yml
    indent: 2
    encoding: utf-8
    changes:
      - yamlpath: "$.nav"
        update:
          value: 
            About: README.md   
